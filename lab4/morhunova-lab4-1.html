<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        .container {
            margin-top: 20%;
            text-align: center;
        }
    </style>
</head>
<body>
<div class="container">
    <input type="number" placeholder="Array's size" id="array-size"> <!-- Створення контейнеру зі вхідними та вихідними данними -->
    <button id="create" type="button" onclick="start()">Create array</button>
    <p id="created-array"></p>
    <p id="qqq"></p>
    <p id="sorted-array"></p>
</div>
<script>
    function start() {
        const size = document.getElementById("array-size").value;
        if (size > 0 && size < 50) { /*умова на кількість елементів у масиві, їх повинно бути не більше 50 */
            var randomArray = []; /*створюється массив, в якому рандомно буде записана к-сть елементів, вказана користувачем */
            for (let i = 0; i < size; i++) {
                randomArray.push(Math.floor(Math.random() * (100 - 1)) + 1);
            }

            document.getElementById("created-array").innerHTML = "Created array: " + randomArray.toString(); /* створений масив передається до HTML-документу по id */

            function maxp(arr) { //шукаємо максимальний парний елемент у масиві
                const evenArr = arr.filter(function(number) {
                    return number % 2 === 0;
                })

                Array.max = function (array) {
                    return Math.max.apply(Math, array);
                };

                return Array.max(evenArr);
            }
            const maxim = maxp(randomArray);

            function minp(arr) { //шукаємо мінімальний непарний елемент у масиві
                const evArr = arr.filter(function (number){
                    return number % 2 - 1 === 0;
                })

                Array.min = function (array) {
                    return Math.min.apply(Math, array);
                };

                return Array.min(evArr);
            }

            const minim = minp(randomArray);

            const num1 = randomArray.indexOf(maxim);//індекси знайдених елементів
            const num2 = randomArray.indexOf(minim);

            [randomArray[num1], randomArray[num2]] = [randomArray[num2], randomArray[num1]] //обмін місцями цих елементів

            document.getElementById("qqq").innerHTML = "Created array: " + randomArray.toString();//передача до документу створеного масиву

            document.getElementById("sorted-array").innerHTML = "Insertion sort (from min to max): " + insertionSort(randomArray).toString(); //передача до документу масиву, відсортованого методом вставки
        } else {
            document.getElementById("created-array").innerHTML = "Array's size must be between 1 and 50";
        }
    }

    function insertionSort(arr) {
            for (let i = 1, l = arr.length; i < l; i++) {
                const current = arr[i];
                let j = i;
                while (j > 0 && arr[j - 1] > current) {
                    arr[j] = arr[j - 1];
                    j--;
                }
                arr[j] = current;
            }
            return arr;

    }
</script>
</body>
</html>
